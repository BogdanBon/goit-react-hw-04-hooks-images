(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGallery_Item:"ImageGalleryItem_ImageGallery_Item__n1wOc",ImageGallery_Item_Image:"ImageGalleryItem_ImageGallery_Item_Image__1WG5U"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},27:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},32:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),s=a.n(r),c=(a(32),a(14)),i=a(4),l=a(5),h=a(7),u=a(6),m=a(9),d=a.n(m),p=a(24),g=a.n(p),b=a(25),f=a.n(b),j=(a(73),a(74),a(8)),y=a.n(j),_=a(1),O=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={image:""},e.inputChange=function(t){e.setState({image:t.target.value})},e.formChange=function(t){t.preventDefault(),""===e.state.image.trim()?d.a.Notify.info("Please write what you want to find"):e.props.onSubmit({image:e.state.image,page:1,hits:0})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsx)("header",{className:y.a.Searchbar,children:Object(_.jsxs)("form",{className:y.a.SearchForm,onSubmit:this.formChange,children:[Object(_.jsx)("button",{type:"submit",className:y.a.SearchForm_Button,children:Object(_.jsx)("span",{className:y.a.SearchForm_Button_Label,children:"Search"})}),Object(_.jsx)("input",{type:"text",className:y.a.SearchForm_Input,placeholder:"Search photos",value:this.state.image,onChange:this.inputChange})]})})}}]),a}(n.Component),S=O,v=a(26),w=a.n(v),I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsx)("ul",{className:w.a.ImageGallery,children:this.props.children})}}]),a}(n.Component),x=I,k=a(12),M=a.n(k),C=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).addImageSrc=function(t){e.props.addImageSrc(t.target.dataset.src),e.props.showModal(!0)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return 0!==this.props.imageGallery.length&&this.props.imageGallery.map((function(t){return Object(_.jsx)("li",{className:M.a.ImageGallery_Item,children:Object(_.jsx)("img",{src:t.webformatURL,alt:t.tags,"data-src":t.largeImageURL,className:M.a.ImageGallery_Item_Image,onClick:e.addImageSrc})},t.id)}))}}]),a}(n.Component),B=C,L=a(27),G=a.n(L),N=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).submitClick=function(t){t.preventDefault(),e.props.onSubmit({page:e.props.currentPage+1,hits:0})},e}return Object(l.a)(a,[{key:"render",value:function(){return 0!==this.props.totalHits&&Object(_.jsx)("button",{type:"submit",className:G.a.Button,onClick:this.submitClick,children:"Load more pics"})}}]),a}(n.Component),F=N,A=a(13),E=a.n(A),P=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onEscKey=function(t){"Escape"===t.code&&e.props.showModal(!1)},e.onBackDropClick=function(t){t.target===t.currentTarget&&e.props.showModal(!1)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscKey)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscKey)}},{key:"render",value:function(){return Object(_.jsx)("div",{className:E.a.Overlay,onClick:this.onBackDropClick,children:Object(_.jsx)("div",{className:E.a.Modal,children:Object(_.jsx)("img",{src:this.props.modalImg,alt:this.props.modalImg})})})}}]),a}(n.Component),D=P,q=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={images:[],name:"",page:null,hits:0,modalImg:"",showLoader:!1,showModal:!1},e.showLoadMoreBtn=function(t){e.setState({showLoader:t})},e.showModal=function(t){e.setState({showModal:t})},e.addImageSrc=function(t){e.setState({modalImg:t})},e.addValues=function(t){t.image?e.setState({images:[],name:t.image,page:t.page,hits:t.hits}):e.setState({page:t.page,hits:t.hits})},e.bottomScroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.dataRequestAPI=function(){var t="".concat("https://pixabay.com/api/","?q=").concat(e.state.name,"&page=").concat(e.state.page,"&key=").concat("19797525-803e10272823be06aee41a8f4","&image_type=photo&orientation=horizontal&per_page=12");e.showLoadMoreBtn(!0),g.a.get(t).then((function(t){0===t.data.hits.length&&d.a.Notify.failure("There is no images due to your request. Please specify your query"),e.setState((function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(t.data.hits)),hits:e.hits+t.data.hits.length}})),e.state.hits>=t.data.totalHits&&e.setState({hits:0}),e.bottomScroll()})).catch((function(e){d.a.Notify.failure("There is no images due to your request. Please specify your query")})).finally((function(){return e.showLoadMoreBtn(!1)}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.name===t.name&&this.state.page===t.page||this.dataRequestAPI()}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(S,{onSubmit:this.addValues}),Object(_.jsx)(x,{children:Object(_.jsx)(B,{imageGallery:this.state.images,showModal:this.showModal,addImageSrc:this.addImageSrc})}),this.state.showLoader&&Object(_.jsx)(f.a,{type:"Puff",color:"rgba(250, 128, 114)",height:80,width:80,className:"Loader"}),Object(_.jsx)(F,{totalHits:this.state.hits,onSubmit:this.addValues,currentPage:this.state.page}),this.state.showModal&&Object(_.jsx)(D,{modalImg:this.state.modalImg,showLoader:this.state.showModal,showModal:this.showModal})]})}}]),a}(n.Component),T=q;s.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(T,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_Button:"Searchbar_SearchForm_Button__3SXME",SearchForm_Button_Label:"Searchbar_SearchForm_Button_Label___XPvK",SearchForm_Input:"Searchbar_SearchForm_Input__1KgLz"}}},[[76,1,2]]]);
//# sourceMappingURL=main.510004af.chunk.js.map