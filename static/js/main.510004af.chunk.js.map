{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","image","inputChange","e","setState","target","value","formChange","preventDefault","trim","Notiflix","Notify","info","props","onSubmit","page","hits","className","s","SearchForm","this","type","SearchForm_Button","SearchForm_Button_Label","SearchForm_Input","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","addImageSrc","dataset","src","showModal","imageGallery","length","map","img","ImageGallery_Item","webformatURL","alt","tags","largeImageURL","ImageGallery_Item_Image","onClick","id","Button","submitClick","currentPage","totalHits","Modal","onEscKey","code","onBackDropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","modalImg","App","images","name","showLoader","showLoadMoreBtn","status","data","addValues","bottomScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","dataRequestAPI","API","axios","get","then","failure","prevState","catch","error","finally","prevProps","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.510004af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery_Item\":\"ImageGalleryItem_ImageGallery_Item__n1wOc\",\"ImageGallery_Item_Image\":\"ImageGalleryItem_ImageGallery_Item_Image__1WG5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import { Component } from \"react\";\nimport Notiflix from \"notiflix\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    image: \"\",\n  };\n  // ---------- getting Query from input ----------\n  inputChange = (e) => {\n    this.setState({ image: e.target.value });\n  };\n  // ---------- check Input empty or not ----------\n  formChange = (e) => {\n    e.preventDefault();\n\n    this.state.image.trim() === \"\"\n      ? Notiflix.Notify.info(\"Please write what you want to find\")\n      : this.props.onSubmit({ image: this.state.image, page: 1, hits: 0 });\n  };\n  // ---------- render ----------\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.formChange}>\n          <button type=\"submit\" className={s.SearchForm_Button}>\n            <span className={s.SearchForm_Button_Label}>Search</span>\n          </button>\n\n          <input\n            type=\"text\"\n            className={s.SearchForm_Input}\n            placeholder=\"Search photos\"\n            value={this.state.image}\n            onChange={this.inputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n// ---------- propTypes options ----------\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  // ---------- render ----------\n  render() {\n    return <ul className={s.ImageGallery}>{this.props.children}</ul>;\n  }\n}\n// ---------- propTypes options ----------\nImageGallery.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends Component {\n  // ---------- add link for Modal large image  ----------\n  addImageSrc = (e) => {\n    this.props.addImageSrc(e.target.dataset.src);\n    this.props.showModal(true);\n  };\n  // ---------- render ----------\n  render() {\n    return (\n      this.props.imageGallery.length !== 0 &&\n      this.props.imageGallery.map((img) => (\n        <li key={img.id} className={s.ImageGallery_Item}>\n          <img\n            src={img.webformatURL}\n            alt={img.tags}\n            data-src={img.largeImageURL}\n            className={s.ImageGallery_Item_Image}\n            onClick={this.addImageSrc}\n          />\n        </li>\n      ))\n    );\n  }\n}\n// ---------- propTypes options ----------\nImageGalleryItem.propTypes = {\n  imageGallery: PropTypes.arrayOf(PropTypes.object).isRequired,\n  showModal: PropTypes.func.isRequired,\n  addImageSrc: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nclass Button extends Component {\n  // ---------- change page +1 ----------\n  submitClick = (e) => {\n    e.preventDefault();\n    this.props.onSubmit({\n      page: this.props.currentPage + 1,\n      hits: 0,\n    });\n  };\n  // ---------- render ----------\n  render() {\n    return (\n      this.props.totalHits !== 0 && (\n        <button type=\"submit\" className={s.Button} onClick={this.submitClick}>\n          Load more pics\n        </button>\n      )\n    );\n  }\n}\n// ---------- propTypes options ----------\nButton.propTypes = {\n  totalHits: PropTypes.number.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  currentPage: PropTypes.number,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  // ---------- close Modal window with ESC key ----------\n  onEscKey = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.showModal(false);\n    }\n  };\n  // ---------- close Modal window with Backdrop click ----------\n  onBackDropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.showModal(false);\n    }\n  };\n  // ---------- adding ESC key listener ----------\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEscKey);\n  }\n  // ---------- removing ESC key listener ----------\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEscKey);\n  }\n  // ---------- render ----------\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.onBackDropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.modalImg} alt={this.props.modalImg} />\n        </div>\n      </div>\n    );\n  }\n}\n// ---------- propTypes options ----------\nModal.propTypes = {\n  modalImg: PropTypes.string.isRequired,\n  showLoader: PropTypes.bool.isRequired,\n  showModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { Component } from \"react\";\nimport Notiflix from \"notiflix\";\n\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar.js\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    name: \"\",\n    page: null,\n    hits: 0,\n\n    modalImg: \"\",\n\n    showLoader: false,\n    showModal: false,\n  };\n  // ---------- show button Load More ----------\n  showLoadMoreBtn = (status) => {\n    this.setState({ showLoader: status });\n  };\n  // ---------- show Modal window ----------\n  showModal = (value) => {\n    this.setState({ showModal: value });\n  };\n  // ---------- image link in Modal window ----------\n  addImageSrc = (data) => {\n    this.setState({ modalImg: data });\n  };\n  // ---------- state update due to Input or Load more btn click ----------\n  addValues = (value) => {\n    value.image\n      ? this.setState({\n          images: [],\n          name: value.image,\n          page: value.page,\n          hits: value.hits,\n        })\n      : this.setState({\n          page: value.page,\n          hits: value.hits,\n        });\n  };\n  // ---------- scroll down to current page ----------\n  bottomScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  // ---------- backend request with axios ----------\n  dataRequestAPI = () => {\n    const API_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"19797525-803e10272823be06aee41a8f4\";\n    const API = `${API_URL}?q=${this.state.name}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n    this.showLoadMoreBtn(true);\n\n    axios\n      .get(API)\n      .then((images) => {\n        if (images.data.hits.length === 0) {\n          Notiflix.Notify.failure(\n            \"There is no images due to your request. Please specify your query\"\n          );\n        }\n\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...images.data.hits],\n            hits: prevState.hits + images.data.hits.length,\n          };\n        });\n\n        if (this.state.hits >= images.data.totalHits) {\n          this.setState({ hits: 0 });\n        }\n\n        this.bottomScroll();\n      })\n      .catch((error) => {\n        Notiflix.Notify.failure(\n          \"There is no images due to your request. Please specify your query\"\n        );\n      })\n      .finally(() => this.showLoadMoreBtn(false));\n  };\n  // ---------- new backend request if changed Input or Page ----------\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.name !== prevState.name ||\n      this.state.page !== prevState.page\n    ) {\n      this.dataRequestAPI();\n    }\n  }\n  // ---------- render ----------\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.addValues} />\n\n        <ImageGallery>\n          <ImageGalleryItem\n            imageGallery={this.state.images}\n            showModal={this.showModal}\n            addImageSrc={this.addImageSrc}\n          />\n        </ImageGallery>\n\n        {this.state.showLoader && (\n          <Loader\n            type=\"Puff\"\n            color=\"rgba(250, 128, 114)\"\n            height={80}\n            width={80}\n            className=\"Loader\"\n          />\n        )}\n\n        <Button\n          totalHits={this.state.hits}\n          onSubmit={this.addValues}\n          currentPage={this.state.page}\n        />\n\n        {this.state.showModal && (\n          <Modal\n            modalImg={this.state.modalImg}\n            showLoader={this.state.showModal}\n            showModal={this.showModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_Button\":\"Searchbar_SearchForm_Button__3SXME\",\"SearchForm_Button_Label\":\"Searchbar_SearchForm_Button_Label___XPvK\",\"SearchForm_Input\":\"Searchbar_SearchForm_Input__1KgLz\"};"],"sourceRoot":""}