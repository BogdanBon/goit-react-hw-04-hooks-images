(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGallery_Item:"ImageGalleryItem_ImageGallery_Item__n1wOc",ImageGallery_Item_Image:"ImageGalleryItem_ImageGallery_Item_Image__1WG5U"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},30:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},35:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_Button:"Searchbar_SearchForm_Button__3SXME",SearchForm_Button_Label:"Searchbar_SearchForm_Button_Label___XPvK",SearchForm_Input:"Searchbar_SearchForm_Input__1KgLz"}},58:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),i=(a(35),a(17)),s=a(4),u=a(7),l=a.n(u),m=a(27),h=a.n(m),b=(a(57),a(58),a(28)),j=a.n(b);var f=function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("19797525-803e10272823be06aee41a8f4","&image_type=photo&orientation=horizontal&per_page=12");return j.a.get(a).then((function(e){return e}))},d=a(5),g=a.n(d),p=a(1);function _(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(p.jsx)("header",{className:g.a.Searchbar,children:Object(p.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),""===c.trim()?l.a.Notify.info("Please write what you want to find"):t({image:c,page:1,hits:0})},children:[Object(p.jsx)("button",{type:"submit",className:g.a.SearchForm_Button,children:Object(p.jsx)("span",{className:g.a.SearchForm_Button_Label,children:"Search"})}),Object(p.jsx)("input",{type:"text",className:g.a.SearchForm_Input,placeholder:"Search photos",value:c,onChange:function(e){o(e.target.value)}})]})})}var O=a(9),y=a(10),S=a(12),v=a(11),I=a(29),x=a.n(I),w=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return Object(p.jsx)("ul",{className:x.a.ImageGallery,children:this.props.children})}}]),a}(n.Component),N=w,G=a(15),k=a.n(G);function B(e){var t=e.imageGallery,a=e.addImageSrc,n=e.showModal;return 0!==t.length&&t.map((function(e,t){return Object(p.jsx)("li",{className:k.a.ImageGallery_Item,children:Object(p.jsx)("img",{src:e.webformatURL,alt:e.tags,className:k.a.ImageGallery_Item_Image,onClick:function(){return t=e.largeImageURL,a(t),void n(!0);var t}})},t)}))}var F=a(30),M=a.n(F),L=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).submitClick=function(t){t.preventDefault(),e.props.onSubmit({page:e.props.currentPage+1,hits:0})},e}return Object(y.a)(a,[{key:"render",value:function(){return 0!==this.props.totalHits&&Object(p.jsx)("button",{type:"submit",className:M.a.Button,onClick:this.submitClick,children:"Load more pics"})}}]),a}(n.Component),C=L,E=a(16),P=a.n(E);function T(e){var t=e.modalImg,a=e.showModal;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(p.jsx)("div",{className:P.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a(!1)},children:Object(p.jsx)("div",{className:P.a.Modal,children:Object(p.jsx)("img",{src:t,alt:t})})})}function q(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],b=u[1],j=Object(n.useState)(1),d=Object(s.a)(j,2),g=d[0],O=d[1],y=Object(n.useState)(null),S=Object(s.a)(y,2),v=S[0],I=S[1],x=Object(n.useState)(!1),w=Object(s.a)(x,2),G=w[0],k=w[1],F=Object(n.useState)(!1),M=Object(s.a)(F,2),L=M[0],E=M[1],P=Object(n.useState)(""),q=Object(s.a)(P,2),D=q[0],H=q[1];Object(n.useEffect)((function(){m&&(A(!0),f(m,g).then((function(e){I(e.data.hits.length),0===e.data.hits.length&&(l.a.Notify.failure("There is no images due to your request. Please specify your query"),I(0)),c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.hits))}))})).catch((function(e){l.a.Notify.failure("There is no images due to your request. Please specify your query"),I(0)})).finally((function(){A(!1),U()})))}),[m,g]);var A=function(e){return k(e)},J=function(e){E(e)},R=function(e){e.image?(c([]),b(e.image),O(e.page)):O(e.page)},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(_,{onSubmit:R}),Object(p.jsx)(N,{children:Object(p.jsx)(B,{imageGallery:r,showModal:J,addImageSrc:function(e){H(e)}})}),G&&Object(p.jsx)(h.a,{type:"Puff",color:"rgba(250, 128, 114)",height:80,width:80,className:"Loader"}),!G&&v>=12&&Object(p.jsx)(C,{totalHits:v,onSubmit:R,currentPage:g}),L&&Object(p.jsx)(T,{modalImg:D,showLoader:J,showModal:J})]})}o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.da2ad758.chunk.js.map